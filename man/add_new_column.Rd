% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{add_new_column}
\alias{add_new_column}
\title{Add new column}
\usage{
add_new_column(
  data,
  ID_column,
  new_colname,
  translation_tables,
  ID_column_translation_table,
  to_column_translation_table,
  position = "right",
  overwrite = FALSE,
  impute_old_when_missing = FALSE,
  n_columns_at_once = 1
)
}
\arguments{
\item{data}{A data.frame with the variable that should be translated}

\item{ID_column}{A vector with the column name(s) of the column(s) with values that shall be translated.}

\item{new_colname}{A vector with column name(s) of the column(s) where the translated value should be put}

\item{translation_tables}{A list with translation tables}

\item{ID_column_translation_table}{A vector with the column name(s) of the columns in the translation table(s) that should
be merged with the ID column in the data, i.e. the column in the translation table with ID values}

\item{to_column_translation_table}{A vector with the column name(s) in the translation tables that have the translated values}

\item{position}{position for the new columns, can be one of c("first", "left", "right", "last")}

\item{overwrite}{When the new column(s) already exist, the content in the existing column(s) is replaced by new data if TRUE. When FALSE,
a warning is issued and new variables are created.}

\item{impute_old_when_missing}{[\code{logical(1)}] \cr
Should existing value be transferred if no value for the code is found?
Defaults to \code{FALSE}.}
}
\value{
A data.frame with a new column with the translated value. The new
    column is placed in the position given in position.
}
\description{
Add a new column with content based on a column in the dataset.
}
\details{
Add a new column with content based on a column in the dataset. The column is translated to the new content based on
    a translation table. The translation table is joined with the original data.frame. The new column is placed to the right for the
    from_column.

    The function is called by functions for translating kommunenr into gjeldende_kommunenr, PJS-codes into descriptive text,
    kommunenr into MT_avdeling and MT_region.

    The function is internal and can only be called from NVIdb-functions
}
\author{
Petter Hopp Petter.Hopp@vetinst.no
}
\keyword{internal}
